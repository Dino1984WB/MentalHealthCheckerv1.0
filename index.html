<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>;]</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css" integrity="sha512-2xuqBmRU+1Ð¯nKuh+Yo1+MPfhY5lQ7WeSX+wnE7wBnXd/8fyq7WA8fW+t/2455yQ5Yq+5867083x8Q807/628" crossorigin="anonymous" referrerpolicy="no-referrer">
</head>
<body>
  <div class="container">
    <h1>Health Tracker w/ ML</h1>
    <form id="wellnessForm">

      <div class="form-group">
        <label>Select all that you have taken since last submission</label>

        <div>
          <button type="button" id='abilify'    autocomplete="off" aria-pressed="false" onclick="toggleActivity('abilify')">Abilify</button>
          <button type="button" id='cannabis'   autocomplete="off" aria-pressed="false" onclick="toggleActivity('cannabis')">Cannabis</button>
          <button type="button" id='bupropion'  autocomplete="off" aria-pressed="false" onclick="toggleActivity('bupropion')">Buproprion</button>
          <button type="button" id='propanolol' autocomplete="off" aria-pressed="false" onclick="toggleActivity('propanolol')">Propanolol</button>
          <button type="button" id='dextroamph' autocomplete="off" aria-pressed="false" onclick="toggleActivity('dextroamph')">DextroAmph</button>
          <button type="button" id='lsd'        autocomplete="off" aria-pressed="false" onclick="toggleActivity('lsd')">lsd</button>
          <button type="button" id='n2o'        autocomplete="off" aria-pressed="false" onclick="toggleActivity('n2o')">n20</button>
          <button type="button" id='molly'      autocomplete="off" aria-pressed="false" onclick="toggleActivity('molly')">molly</button>
          <button type="button" id='psilocybin' autocomplete="off" aria-pressed="false"onclick="toggleActivity('Psilocybin')">psilocybin</button>
          <button type="button" id='research_psych' autocomplete="off" aria-pressed="false"onclick="toggleActivity('Research psychs')">Research psychs</button>
          <button type="button" id='research_stim'    autocomplete="off" aria-pressed="false" onclick="toggleActivity('Cocaine')">Cocaine</button>
          <button type="button" id='cocaine'    autocomplete="off" aria-pressed="false" onclick="toggleActivity('Cocaine')">Cocaine</button>
        </div>
      </div>

      <div class="form-group">
        <label>Mental Wellness</label>
        <input type="range" min="1" max="100" value="3" id="mentalWellnessSlider" class="slider">
        <label for="mentalWellnessSlider" class="slider-label">Current Mental Wellness Level (1 - Low, 100 - High)</label>
      </div>

      <div class="form-group">
        <label>Physical Wellness</label>
        <input type="range" min="1" max="100" value="3" id="physicalWellnessSlider" class="slider">
        <label for="physicalWellnessSlider" class="slider-label">Current Physical Wellness Level (1 - Low, 100 - High)</label>
      </div>

      <button type="button" class="btn" onclick="onSubmit()">Submit</button>
    </form>
  </div>

  <script>

    function toggleActivity(activity, button) {
      button.classList.toggle('active');
      // Add your existing toggleActivity function logic here
  }

  // Define a function to make a GET request
    function fetchData() {
      var xhr = new XMLHttpRequest();

      // Replace 'http://localhost:5000/api/data' with your actual backend API endpoint
      xhr.open('GET', 'http://localhost:5000/api/data', true);

      xhr.onload = function () {
          if (xhr.status == 200) {
            }
              // Replace 'data-container' with the ID of the element you want to update
              document.getElementById('abilify').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('cannabis').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('burpropion').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('propanolol').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('dextroamph').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('lsd').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('n2o').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('molly').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('psilocybin').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('research_psych').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('research_stim').innerText = JSON.parse(xhr.responseText).message;
              document.getElementById('cocaine').innerText = JSON.parse(xhr.responseText).message;
              


          }
      };

      xhr.send();
    

// Call the fetchData function when the page loads
      window.onload = function () {
          fetchData();
};



/** 
    TODO: we need to get all the buttons to stay active and all of themn to have the capacity to remain active at the same
    time. There must be some attribute that exists for html buttons that allows for this. 

**/

</script>


/** 


**/